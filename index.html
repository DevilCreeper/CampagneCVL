<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Campagne CVL - Votez MAIRE Anael</title>
    <style>
        body {
            margin: 0;
            font-family: 'Comic Sans MS', sans-serif;
            background-color: #f0f8ff;
            color: #333;
            text-align: center;
        }

        header {
            background-color: #4CAF50;
            padding: 10px;
            color: white;
            font-size: 1.5em;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
        }

        footer {
            text-align: center;
            padding: 10px;
            background-color: #eee;
            color: #666;
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            z-index: 1000;
        }

        main {
            padding-top: 60px;
            padding-bottom: 60px;
        }

        #intro {
            position: relative;
            width: 100vw;
            height: calc(100vh - 120px);
            background: url('https://media.discordapp.net/attachments/1292231696917463080/1292231798088273920/1727880370612-b53fee08-18b6-c355-3685-e9ff99b136a0.png?ex=6702fc25&is=6701aaa5&hm=7c33a97f01af9b1482947c264258dcab010ca448fcff0207d1032af6043f5dda&=&format=webp&quality=lossless&width=401&height=571') no-repeat center center/cover;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 1s ease;
        }

        .fadeOut {
            opacity: 0;
            transform: translateY(-100%);
        }

        .button {
            padding: 15px 30px;
            background-color: #ff6347;
            color: white;
            border-radius: 30px;
            font-size: 1.5em;
            text-decoration: none;
            transition: background-color 0.3s ease;
        }

        .button:hover {
            background-color: #ff4500;
        }

        #presentation {
            display: none;
            background-color: white;
            padding: 20px;
            min-height: 100vh;
            background: url('https://media.discordapp.net/attachments/1172987436608004197/1291118189320863846/1727880370612-b53fee08-18b6-c355-3685-e9ff99b136a0-modified.png?ex=66feef04&is=66fd9d84&hm=b9eeabf7a687220ef0d099afeda08d9196ffdbd8360a18e01bac136e46ee06ef&=&format=webp&quality=lossless&width=401&height=571') no-repeat center center/cover;
            color: white;
        }

        #presentation.active {
            display: block;
            animation: fadeIn 1s ease;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }
            to {
                opacity: 1;
            }
        }

        h1 {
            color: white;
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        p {
            font-size: 1.2em;
            margin-bottom: 20px;
            color: white;
        }

        .actions {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            margin-top: 30px;
        }

        .actions .button {
            padding: 15px 30px;
            background-color: #4CAF50;
            color: white;
            border-radius: 30px;
            font-size: 1.2em;
            text-decoration: none;
            transition: background-color 0.3s ease;
            width: 80%;
        }

        .actions .button:hover {
            background-color: #45a049;
        }

        .content {
            display: none;
            padding: 20px;
            background-color: #e0f7fa;
            border-radius: 10px;
            margin-top: 10px;
            width: 80%;
        }

        .content p {
            text-align: left;
            font-size: 1.1em;
            color: black;
        }

        .active-content {
            display: block;
        }

    </style>
</head>
<body>

    <header>Campagne de MAIRE Anael</header>

    <main>
        <div id="intro">
            <a href="#" id="discoverBtn" class="button">Découvrir mon programme</a>
        </div>

        <div id="presentation">
            <h1>Qui suis-je ?</h1>
            <p>Je ne vous le cache pas, je suis arrivé ici un peu par hasard… Mais, puisqu'il faut bien aller jusqu'au bout, autant le faire du mieux possible non ? Alors c'est avec humour, sérieux (il en faut bien un peu quand même) et détermination, que je compte bien défendre vos intérêts.</p>
            
            <div class="actions">
                <a href="#" class="button" data-target="program1">Réformer le self</a>
                <div id="program1" class="content">
                    <p>Mon projet principal est très clair : réformer le self. L'objectif est de CONSIDERABLEMENT augmenter la qualité de la nourriture ! Il est temps que chacun puisse enfin manger correctement, sans se demander si la qualité, la quantité ou même le prix seront au rendez-vous. Je m'engage à défendre une nourriture de qualité, en quantité suffisante, et accessible à tous, mais aussi, dans de bonnes conditions !</p>
                </div>

                <a href="#" class="button" data-target="program2">Créer un foyer</a>
                <div id="program2" class="content">
                    <p>Mais ce n’est pas tout ! Je veux également finaliser un projet qui nous tient à cœur : la création d’un vrai foyer pour le lycée. Imaginez un espace avec une cafétéria, des zones de travail, de repos et de jeux, un lieu où chacun peut se sentir bien, se détendre, et surtout se ressourcer, ...</p>
                </div>

                <a href="#" class="button" data-target="program3">Être à votre écoute</a>
                <div id="program3" class="content">
                    <p>Je tiens à porter vos idées, vos petits projets qui, au final, contribuent à faire du lycée un endroit où il fait bon vivre. Je suis ici pour vous écouter, vous comprendre et vous aider à rendre votre quotidien meilleur. (voir la catégorie "vos projets")</p>
                </div>

                <!-- Nouveau bouton "Vos projets" -->
                <a href="https://lost-cyrano.github.io/VosProjets/" class="button">Vos projets</a>
            </div>
        </div>
    </main>

    <footer>
       <a href="https://matias.me/nsfw/" style="color: inherit; text-decoration: none;">
          &copy; 2024 Maire Anael et son équipe - Tous droits réservés
       </a>
   </footer>

    <!-- Script Firebase pour le compteur de visites -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-app.js";
        import { getDatabase, ref, get, set } from "https://www.gstatic.com/firebasejs/10.14.0/firebase-database.js";

        const firebaseConfig = {
            apiKey: "AIzaSyATBBmuIx94ZrOAY56KUdX2YUdQWbakdJY",
            authDomain: "vos-projets.firebaseapp.com",
            databaseURL: "https://vos-projets-default-rtdb.europe-west1.firebasedatabase.app",
            projectId: "vos-projets",
            storageBucket: "vos-projets.appspot.com",
            messagingSenderId: "12303899246",
            appId: "1:12303899246:web:b4b069e7082a1279e3647f",
            measurementId: "G-VK5K6QRW26"
        };

        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const visitCountRef = ref(database, 'visits/count');

        get(visitCountRef).then((snapshot) => {
            if (snapshot.exists()) {
                const currentCount = snapshot.val();
                console.log('Nombre actuel de visites :', currentCount);

                const newCount = currentCount + 1;
                set(visitCountRef, newCount).then(() => {
                    console.log('Compteur mis à jour à :', newCount);
                });
            } else {
                console.log("Aucune donnée existante, initialisation du compteur à 1.");
                set(visitCountRef, 1);
            }
        }).catch((error) => {
            console.error("Erreur lors de la récupération du compteur :", error);
        });
    </script>

    <script>
        const discoverBtn = document.getElementById('discoverBtn');
        const intro = document.getElementById('intro');
        const presentation = document.getElementById('presentation');
        const buttons = document.querySelectorAll('.button[data-target]');

        discoverBtn.addEventListener('click', function(e) {
            e.preventDefault();
            intro.classList.add('fadeOut');
            setTimeout(() => {
                intro.style.display = 'none';
                presentation.classList.add('active');
            }, 1000); 
        });

        buttons.forEach(button => {
            button.addEventListener('click', function(e) {
                e.preventDefault();
                const target = this.getAttribute('data-target');
                const content = document.getElementById(target);
                if (content.classList.contains('active-content')) {
                    content.classList.remove('active-content');
                } else {
                    document.querySelectorAll('.content').forEach(c => c.classList.remove('active-content'));
                    content.classList.add('active-content');
                }
            });
        });
    </script>

</body>
</html>
